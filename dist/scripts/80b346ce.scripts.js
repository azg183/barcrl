"use strict";angular.module("barcrlApp",["ngCookies","ngResource","ngSanitize","ngRoute","module.service","module.controller","ui.bootstrap"]).config(["$routeProvider","$locationProvider",function(a,b){a.when("/Crawl/:barId",{templateUrl:"/views/crawl.html",controller:"CrawlCtrl"}).when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"}),b.html5Mode(!0)}]),angular.module("module.controller",["module.service"]).controller("MainCtrl",["$scope",function(a){a.bars=[{id:"Inferno",name:"Inferno"},{id:"Bar.Bleu",name:"Bar Bleu"},{id:"Pickles",name:"Pickles"}]}]).controller("CrawlCtrl",["$scope","crawlrService",function(a,b){function c(b){a.requestId=b}function d(b){a.routes=b}b.getRequestId().then(function(a){c(a);var e=a;setTimeout(function(){b.getResult(e).then(function(a){d(a)})},7e3)})}]);var serviceModule=angular.module("module.service",[]);serviceModule.service("crawlrService",["$http","$q",function(a,b){return{getRequestId:function(){var c=b.defer();return a({method:"GET",url:"http://crawlrapi.herokuapp.com/route/Inferno"}).success(function(a){c.resolve(a)}).error(function(){c.reject("Error getting crawlr front page.")}),c.promise},getResult:function(c){var d=b.defer();return a({method:"GET",url:"http://crawlrapi.herokuapp.com/result/"+c+"/.json"}).success(function(a){d.resolve(angular.fromJson(a).tours)}).error(function(){d.reject("Error getting crawlr front page.")}),d.promise}}}]);